# Лабораторная работа №5. Хранение данных. Настройки и внешние файлы.
Выполнил: Перцов Богдан, ИСП-221С

## Функциональность приложения:

Приложение реализует следующие функции:

• Загрузка файлов: Асинхронно скачивает PDF-файлы с сайта ИТМО, используя библиотеку OkHttp. Проверяет успешность запроса и тип содержимого (Content-Type), отображая соответствующие сообщения об ошибках или успешной загрузке. Обрабатывает случаи, когда файл не найден на сервере.

• Просмотр файлов: Открывает скачанный PDF-файл с помощью установленного на устройстве приложения для просмотра PDF-файлов. Использует FileProvider для безопасного доступа к файлу. Обрабатывает исключение ActivityNotFoundException в случае отсутствия подходящего приложения для просмотра PDF-файлов.

• Удаление файлов: Позволяет пользователю удалить скачанный файл с устройства.

• Управление настройками: Использует SharedPreferences для хранения информации о том, нужно ли отображать инструкцию при первом запуске.

• Обработка разрешений: Запрашивает разрешение на запись во внешнее хранилище (WRITE_EXTERNAL_STORAGE) с помощью библиотеки Dexter и обрабатывает результат запроса.

• Отображение статуса: В реальном времени информирует пользователя о статусе загрузки и любых ошибках через элемент TextView.

• Инструкция при первом запуске: При первом запуске приложения отображается диалоговое окно с краткой инструкцией. Пользователь может отметить флажок, чтобы инструкция больше не отображалась.


## Пользовательский интерфейс (UI):

Главное окно приложения содержит следующие элементы:

• journalIdEditText: Поле для ввода ID журнала (целое число).

• downloadButton: Кнопка для запуска загрузки PDF-файла.

• viewButton: Кнопка для просмотра загруженного файла (активируется после загрузки).

• deleteButton: Кнопка для удаления загруженного файла (активируется после загрузки).

• statusTextView: Отображает текущий статус загрузки, сообщения об успешной загрузке, ошибки и сообщения об удалении файлов.


## Подробное описание:

### downloadFile()

Этот метод отвечает за загрузку PDF-файла.

### openPDF()

Открывает скачанный PDF-файл с помощью системного приложения для просмотра PDF-файлов, используя FileProvider. Обрабатывает исключение ActivityNotFoundException в случае отсутствия подходящего приложения.

### deleteFile()

Удаляет файл с устройства и обновляет пользовательский интерфейс, отключая кнопки "Смотреть" и "Удалить".

### showPopupInstruction()

Отображает диалоговое окно с инструкцией при первом запуске приложения. Использует SharedPreferences для запоминания того, что инструкция была показана.

### Обработка разрешений:

Приложение запрашивает разрешение на запись во внешнее хранилище (WRITE_EXTERNAL_STORAGE) с помощью библиотеки Dexter. Методы requestStoragePermission() и onRequestPermissionsResult() обрабатывают запрос и результат.

## Сборка и запуск

1. Клонирование: Клонируйте репозиторий с помощью git clone [URL репозитория].
2. Открытие проекта: Откройте каждый проект (l31 и l32) в Android Studio.
3. Запуск: Запустите каждое приложение на эмуляторе или устройстве Android.
